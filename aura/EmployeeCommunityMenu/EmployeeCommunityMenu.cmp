<aura:component extends="forceCommunity:navigationMenuBase"
                implements="forceCommunity:availableForAllPageTypes">
    
    <aura:handler name="init" action="{! c.onInit }" value="{! this }" />
    <aura:handler event="forceCommunity:routeChange" action="{! c.onRouteChange }" />
    
    <nav class="menu-container" onclick="{! c.onClick }">
        <ul id="menu" aura:id="menu">
            <aura:iteration items="{! v.menuItems }" var="item">
                <aura:if isTrue="{! item.subMenu }">
                    <li class="{! item.label + ' TopNav-link menu hasSubmenu' }">
                        <a href="javascript:void(0)" title="" class="Nav-link menu">{! item.label }<span class="arrow"></span></a>
                        <ul class="submenu">
                            <aura:iteration items="{! item.subMenu }" var="subItem">
                                <li class="submenu"><a data-menu-item-id="{! subItem.id }" class="submenu" href="">{! subItem.label }</a></li>
                            </aura:iteration>
                        </ul>
                    </li>
                    <aura:set attribute="else">
                        <li class="{! item.label + ' TopNav-link menu' }"><a class="Nav-link menu" data-menu-item-id="{! item.id }" href="">{! item.label }</a></li>
                    </aura:set>
                </aura:if>
            </aura:iteration>
        </ul>
    </nav>
</aura:component>