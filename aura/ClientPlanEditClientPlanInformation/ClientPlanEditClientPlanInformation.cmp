<aura:component controller="ClientPlanDetailsControllerMobile">
	
    <aura:attribute name="planId" type="Id" required="true" />
    <aura:attribute name="showProgressBar" type="Boolean" required="false" default="false" />
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler event="aura:doneRendering" action="{!c.doneRendering}"/>
    
    <div class="slds">
        
        <aura:if isTrue="{!v.showProgressBar}">
            <c:ProgressBarLightningMobile />
            
            <aura:set attribute="else">
                
                <div id="pageLabel">
                    Edit client plan information
                </div>
                
                <div id="wholePage">
                    <ui:inputSelect aura:id="stage" label="Stage" class="dynamic marginBottom1em">
                        <aura:iteration items="{!v.stageOptions}" var="o">
                            <ui:inputSelectOption text="{!o}" label="{!o}" value="{!if(v.plan.plan.Status__c == o, true, false)}"/>
                        </aura:iteration>
                    </ui:inputSelect>
                    
                    <ui:inputSelect aura:id="expansionPolicy" label="Expansion policy" class="dynamic marginBottom1em">
                        <aura:iteration items="{!v.expansionPolicyOptions}" var="o">
                            <ui:inputSelectOption text="{!o}" label="{!o}" value="{!if(v.plan.plan.Expansion_Policy__c == o, true, false)}"/>
                        </aura:iteration>
                    </ui:inputSelect>
                    
                    <ui:inputSelect aura:id="dg" label="DG" class="dynamic marginBottom1em">
                        <aura:iteration items="{!v.dgOptions}" var="o">
                            <ui:inputSelectOption text="{!o}" label="{!o}" value="{!if(v.plan.plan.DG__c == o, true, false)}"/>
                        </aura:iteration>
                    </ui:inputSelect>
                    
                    <ui:inputNumber aura:id="lgd" label="LGD (%)" value="{!v.plan.plan.LGD__c}"/>
                    <span aura:id="lgdError" class="toggle red">Decimal value required</span>
                    
                    <div id="buttonsWrapper">
                        <button class="slds-button slds-button--neutral" onclick="{!c.moveBack}">Cancel</button>
                        <button class="slds-button slds-button--brand" onclick="{!c.onBeforeModifyClientPlanInfo}">Save</button>
                    </div>
                    
                </div>
                
            </aura:set>
        </aura:if>
    </div>
    
</aura:component>