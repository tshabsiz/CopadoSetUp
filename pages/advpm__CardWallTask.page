<apex:page standardController="Task" tabStyle="Task" cache="true" showHeader="false" sidebar="false" applyBodyTag="false" applyHtmlTag="false" extensions="advpm.CardWallTaskController" docType="html-5.0">
<html>
<head>
	<title>Task</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <apex:includeScript value="{!URLFOR($Resource.advpm__jQueryZip, 'js/jquery-1.8.3.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.advpm__MBView_Bootstrap, 'js/bootstrap.2.3.2.min.js')}" />
    <!-- <apex:includeScript value="{!URLFOR($Resource.jQuery_NiceScroll, 'jquery.nicescroll.min.js')}" /> -->
    <apex:stylesheet value="{!URLFOR($Resource.advpm__MBView_Bootstrap, 'css/bootstrap.2.3.2.min.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.advpm__Cal_Shared, 'CalFormsCSS.css')}" />
    <style type="text/css">
    	.chatterfeedshell{overflow-x: hidden;}
    	.taskOwner select {width:90px;}
    	body {overflow-x:hidden!important;}
        html {overflow:auto!important;}
    	.labelCol{width:14%!important;}
    	.dataCol{width:36%!important;}
        .hide{display:none!important;}
    </style>
    <!-- Code To Toggle Submit State Buttons -->
    <apex:includeScript value="{!URLFOR($Resource.advpm__StandardElements, 'js/utility-control-styles.js')}" />
    <apex:stylesheet value="{!URLFOR($Resource.advpm__StandardElements, 'css/utility-control-styles.css')}" />
</head>
<body>
	<div id="loading_cal_status" class="{!IF(JSINHTMLENCODE($currentPage.parameters.isdtp) == 'p1','','hide')}" style="text-align:center;"><img width="16" height="16" title="Processing..." alt="Processing..." src="/img/loading.gif" /><span class="loadingText" style="font-weight:bold;padding-left:10px;">Loading...</span></div>
    <apex:form id="theForm">
        <apex:outputPanel layout="none" rendered="{!JSINHTMLENCODE($CurrentPage.parameters.saveSuccess) != '1' && !isSFMobile}">
        <style type="text/css">
            body {max-height:460px!important;}
        </style>
        </apex:outputPanel>
        <script type="text/javascript">
            var $j = jQuery.noConflict();
            $j(document).ready(function(){
	        	if ('{!Task.Id}' == '' || '{!Task.WhatId}' == '' || '{!Task.WhoId}' == '') {
	        		if ('{!Task.WhatId}' == '') {
		            	$j( "div.matterField input[name$='_lktp']" ).val( '{!$ObjectType.advpm__Matter__c}' );
		            	//$j( "div.matterField select[name$='_mlktp']" ).val( '{!$ObjectType.advpm__Matter__c}' ).change();
		            	$j( "div.matterField select[name$='_mlktp']" ).val( '{!$ObjectType.advpm__Matter__c}' );
		            	$j( "div.matterField select[name$='_lktp']" ).val( '{!$ObjectType.advpm__Matter__c}' );
	            	}
	            	if ('{!Task.WhoId}' == '') {
		            	$j( "div.contactField input[name$='_lktp']" ).val( '{!$ObjectType.Contact}' );
		            	//$j( "div.contactField select[name$='_mlktp']" ).val( '{!$ObjectType.Contact}' ).change();
		            	$j( "div.contactField select[name$='_mlktp']" ).val( '{!$ObjectType.Contact}' );
		            	$j( "div.contactField select[name$='_lktp']" ).val( '{!$ObjectType.Contact}' );
	            	}
            	}
                if ( (typeof sforce != 'undefined') && (sforce != null) ) { $j('#loading_cal_status').toggleClass('hide', true); }
               	else if('{!Task.Id}'!='') {$j('.opentask').css('display', 'block');}
                $j('#save-button').click(function(e){
                    e.preventDefault();
                    
                    if ({!isSFMobile} == true) {
	                    doUpdateDateVal('{!$Component.theForm.f_ReminderDateTime}','{!$Component.theForm.reminder_dt_m}','{!$Component.theForm.reminder_dt_time_m}');
	                }
                    else {
                        toggleButtons('{!$Component.theForm}', true);
	                    doUpdateDateVal('{!$Component.theForm.f_ReminderDateTime}','{!$Component.theForm.reminder_dt}','{!$Component.theForm.reminder_dt_time}');
	                }
                    
                    saveTaskAction();
                });
                $j('#close-button').click(function(e){
                    e.preventDefault();
                    if ( (typeof sforce != 'undefined') && (sforce != null) ) 
                	{
                		//sforce.one.back(true);
                		sforce.one.navigateToURL("{!JSINHTMLENCODE($currentPage.parameters.gotoURL)}");
			        }
			        else
			        {
                    	parent.doClose('TASK', false);
                    }
                });
                $j('#delete-button').click(function(e){
                    e.preventDefault();
                    var cf = confirm('Are you sure you want to delete?');
                    if (cf) 
                    {
                        toggleButtons('{!$Component.theForm}', true);
	                    deleteTaskAction();
                    }
                });
                if ( (typeof sforce != 'undefined') && (sforce != null) ){
               		toggleEventReminderOptions('{!$Component.theForm.reminder_set_m}','{!$Component.theForm.reminder_dt_m}','{!$Component.theForm.reminder_dt_time_m}');
		        }
		        else{
                   	toggleEventReminderOptions('{!$Component.theForm.reminder_set}','{!$Component.theForm.reminder_dt}','{!$Component.theForm.reminder_dt_time}');
                }
                if ({!errMsgs.size} > 0)
                {
                	if ( (typeof sforce != 'undefined') && (sforce != null) && {!isSFMobile} == true ) { }
                	else {
                		$j('#modal-error-list').removeClass('hide').addClass('in');
                		//$j('#modal-error-list').modal('show');
					}
                }
                /*$j('.chatterShowHideFeed > .showFeedLink > .innerLink').click(function(e){
                	setTimeout(function(){
					    $j("html").getNiceScroll().resize();
					}, 3000);
                });*/
                toggleButtons('{!$Component.theForm}', false);
                initScroll();
            });
            function initScroll() {
            	/*$j("html").niceScroll({
                    bouncescroll: true,
                    horizrailenabled: false
                });*/
            }
            function toggleEventReminderOptions(a, b, c) {
            	var d = document.getElementById(a),
			        e = document.getElementById(b),
			        f = document.getElementById(c);
			    if (d && e && f) {
			    	e.disabled = !d.checked;
			    	f.disabled = !d.checked;
			    }
            }
            function doUpdateDateVal(a, b, c){
            	var d = document.getElementById(a),
			        e = document.getElementById(b),
			        f = document.getElementById(c);
            	if (d && e && f) {
           			d.value = e.value + ' ' + f.value;
           		}
            }
            function doChangeDueDateValue(a, b){
            	var c = document.getElementById(a),
			        d = document.getElementById(b);
            	if (c && d) {
           			d.value = c.value;
           		}
            }
        </script>
        <apex:outputPanel id="saveTask">
        	<script type="text/javascript">
        		if( '{!JSINHTMLENCODE($CurrentPage.parameters.saveSuccess)}' == '1' )
                {
                    if ( (typeof sforce != 'undefined') && (sforce != null) ) 
                	{
                		sforce.one.navigateToURL("{!JSINHTMLENCODE($currentPage.parameters.gotoURL)}");
                		//sforce.one.back(true);
			        }
			        else
			        {
				        if( '{!JSINHTMLENCODE($CurrentPage.parameters.src)}' == 'Calendar' ) {
	                        parent.loadTasks();
	                        parent.loadTime();
	                    }
	                    else if( '{!JSINHTMLENCODE($CurrentPage.parameters.src)}' == 'Gantt' )
	                        parent.retrieveData();
	                    else
	                        if ( typeof parent.ReloadTasks == 'function' ) parent.ReloadTasks();
	                    parent.doClose('TASK', false);
	              	}
                }
        	</script>
        </apex:outputPanel>
        <apex:actionFunction name="saveTaskAction" action="{!saveTask}" rerender="theForm,otherContent" status="loadingStatus" rendered="{!!isSFMobile}" />
        <apex:actionFunction name="deleteTaskAction" action="{!deleteTask}" rerender="theForm,otherContent" status="loadingStatus" rendered="{!!isSFMobile}" />
        <apex:actionFunction name="saveTaskAction" action="{!saveTask}" rerender="theForm,otherContent" status="loadingStatus_m" rendered="{!isSFMobile}" />
        <apex:actionFunction name="deleteTaskAction" action="{!deleteTask}" rerender="theForm,otherContent" status="loadingStatus_m" rendered="{!isSFMobile}" />
        
        <apex:inputField value="{!Task.ReminderDateTime}" rendered="false" />
        <div style="display:none;">
        	<apex:inputField id="f_ReminderDateTime" value="{!Task.ReminderDateTime}" rendered="true" />
		</div>
		
        <apex:outputPanel styleClass="bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" style="margin:10px;" layout="block" rendered="{!JSINHTMLENCODE($CurrentPage.parameters.saveSuccess) != '1' && !isSFMobile}">
        	<apex:outputPanel layout="block" styleClass="message errorM3" rendered="{!HasPageMessages}"><apex:messages /></apex:outputPanel>
        	<div class="pbHeader">
        		<table border="0" cellpadding="0" cellspacing="0" width="100%">
        			<tbody>
        				<tr>
        					<td class="pbTitle"><h5 class="mainTitle">Task Detail</h5></td>
        					<td class="pbButton">
        						<a id="save-button" class="showOnEditButton edit-button font-fix btn-adv btn-adv-info btn-adv-small {!IF(CurrentUserAccountName != null && CurrentUserAccountName != '','hide','')}"> <span class="edit-button-text">Save</span></a>
			                    <a id="close-button" class="showOnEditButton edit-button font-fix btn-adv btn-adv-small"><span class="edit-button-text">Close</span></a>
			                    <a id="delete-button" class="showOnEditButton edit-button font-fix btn-adv btn-adv-small {!IF(Task.Id==null,'hide','')}" style="margin-left:3px;"><span class="edit-button-text">Delete</span></a>
			                    
                                <a href="javascript:void(0);" class="hideOnEditButton btnDisabled edit-button font-fix btn-adv btn-adv-info btn-adv-small {!IF(CurrentUserAccountName != null && CurrentUserAccountName != '','hide','')}"> <span class="edit-button-text">{!$Label.Button_Processing}</span></a>
                                <a href="javascript:void(0);" class="hideOnEditButton btnDisabled edit-button font-fix btn-adv btn-adv-small"><span class="edit-button-text">{!$Label.Button_Processing}</span></a>
                                <a href="javascript:void(0);" class="hideOnEditButton btnDisabled edit-button font-fix btn-adv btn-adv-small {!IF(Task.Id==null,'hide','')}" style="margin-left:3px;"><span class="edit-button-text">{!$Label.Button_Processing}</span></a>
                                
                                <apex:actionStatus id="loadingStatus"><apex:facet name="start"><img width="16" height="16" title="Processing..." alt="Processing..." src="/img/loading.gif" /></apex:facet></apex:actionStatus>
			                    <apex:commandLink target="_top" styleClass="opentask pull-right" action="{!gotoStdTask}" value="Edit in Standard Interface" />
                    		</td>
                    	</tr>
                    </tbody>
				</table>
            </div>
            <div class="pbBody">
            	<div class="pbSubsection">
	            	<table class="detailList" border="0" cellpadding="0" cellspacing="0" width="100%">
	            		<tbody>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Subject" for="subject" /></th>
	            			<td class="dataCol" colspan="3"><apex:inputText id="subject" value="{!Task.Subject}" style="width:70%;vertical-align:top;" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Related To" for="rel_to" /></th>
	            			<td class="dataCol" colspan="3"><apex:inputField id="rel_to" value="{!Task.WhatId}" styleClass="matterField" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Name" for="rel_name" /></th>
	            			<td class="dataCol" colspan="3"><apex:inputField id="rel_name" value="{!Task.WhoId}" styleClass="contactField" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Start Date" for="fld_st" /></th>
	            			<td class="dataCol"><apex:inputField id="fld_st" value="{!Task.advpm__Start_Date__c}" required="false" style="width:80px;" /></td>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Assigned To" for="assig_to" /></th>
	            			<td class="dataCol"><apex:inputField id="assig_to" value="{!Task.OwnerId}" required="false" styleClass="taskOwner" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Due Date" for="fld_due" /></th>
	            			<td class="dataCol"><apex:inputField id="fld_due" value="{!Task.ActivityDate}" required="false" style="width:80px;" onchange="doChangeDueDateValue('{!$Component.theForm.fld_due}','{!$Component.theForm.reminder_dt}');" /></td>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Status" for="fld_status" /></th>
	            			<td class="dataCol"><apex:inputField id="fld_status" value="{!Task.Status}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Log Time" for="log_time" /></th>
	            			<td class="dataCol"><apex:inputField id="log_time" value="{!Task.advpm__Log_Time__c}" required="false" onclick="$j(this).blur();" /></td>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Type" for="fld_type" /></th>
	            			<td class="dataCol"><apex:inputField id="fld_type" value="{!Task.Type}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Time (In Hours)" for="time_hours" /></th>
	            			<td class="dataCol"><apex:inputField id="time_hours" value="{!Task.advpm__Time_In_Hours__c}" required="false" style="width:80px;" /></td>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Priority" for="priority" /></th>
	            			<td class="dataCol"><apex:inputField id="priority" value="{!Task.Priority}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Reminder" for="reminder_set" /></th>
	            			<td class="dataCol" colspan="3">
	            				<apex:inputCheckbox id="reminder_set" value="{!Task.IsReminderSet}" title="Set reminder on/off" style="margin-top: -6px;" onclick="$j(this).blur();toggleEventReminderOptions('{!$Component.theForm.reminder_set}','{!$Component.theForm.reminder_dt}','{!$Component.theForm.reminder_dt_time}');" />
	            				<span class="dateInput dateOnlyInput remDate">
									<apex:inputField id="reminder_dt" value="{!remDate.ActivityDate}" style="width:80px;" />
									<apex:selectList id="reminder_dt_time" value="{!remTime}" title="Reminder Time" multiselect="false" size="1" style="display:inline;width:100px;margin-left:5px;">
		            					<apex:selectOptions value="{!ReminderTimeList}" />
									</apex:selectList>
								</span>
	            			</td>
	            		</tr>
	            		<tr>
	            			<th class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Description" for="fld_descr" /></th>
	            			<td class="dataCol" colspan="3"><apex:inputField id="fld_descr" value="{!Task.Description}" style="width:70%;" required="false" /></td>
	            		</tr>
	            		<apex:repeat value="{!$ObjectType.Task.FieldSets.advpm__fieldSet_CardWall}" var="f">
	                        <apex:outputPanel layout="none" rendered="{!NOT(CONTAINS(f,'.'))}">
	                        <tr><th class="labelCol vfLabelColTextWrap"><label>{!f.label}</label></th><td class="dataCol" colspan="3"><apex:inputField value="{!Task[f]}" required="{!f.Required}" rendered="{!f.Type != 'textarea' && NOT(CONTAINS(f,'.'))}" /><apex:inputField value="{!Task[f]}" required="{!f.Required}" rendered="{!f.Type == 'textarea' && NOT(CONTAINS(f,'.'))}" style="width:70%;height:60px;" /></td></tr>
	                        </apex:outputPanel>
	                    </apex:repeat>
		            	</tbody>
	            	</table>
	            </div>
	        </div>
        </apex:outputPanel>
        <apex:outputPanel styleClass="bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette mobile" style="margin:10px;" layout="block" rendered="{!JSINHTMLENCODE($CurrentPage.parameters.saveSuccess) != '1' && isSFMobile}">
        	<apex:outputPanel layout="block" styleClass="message errorM3" rendered="{!HasPageMessages || errMsgs.size > 0}"><apex:messages />
        		<apex:dataList value="{!errMsgs}" var="er" type="circle" styleClass="text-error">
					<apex:outputPanel layout="inline"><strong>{!er.errHeading}</strong>&nbsp;{!er.errMessage}</apex:outputPanel>
				</apex:dataList>
        	</apex:outputPanel>
        	<div class="pbHeader">
        		<table border="0" cellpadding="0" cellspacing="0" width="100%">
        			<tbody>
        				<tr>
        					<td class="pbTitle" nowrap="nowrap"><h5 class="mainTitle">Task Detail</h5></td>
        					<td class="pbButton">
        						<a id="save-button" class="edit-button font-fix btn-adv btn-adv-info btn-adv-small"> <span class="edit-button-text">Save</span></a>
			                    <a id="close-button" class="edit-button font-fix btn-adv btn-adv-small"><span class="edit-button-text">Close</span></a>
			                    <a id="delete-button" class="edit-button font-fix btn-adv btn-adv-small {!IF(Task.Id==null,'hide','')}" style="margin-left:3px;"><span class="edit-button-text">Delete</span></a>
			                    <apex:actionStatus id="loadingStatus_m"><apex:facet name="start"><img width="16" height="16" title="Processing..." alt="Processing..." src="/img/loading.gif" /></apex:facet></apex:actionStatus>
			                    <apex:commandLink target="_top" styleClass="opentask pull-right" action="{!gotoStdTask}" value="Edit in Standard Interface" />
                    		</td>
                    	</tr>
                    </tbody>
				</table>
            </div>
            <div class="pbBody">
            	<div class="pbSubsection">
	            	<table class="detailList" border="0" cellpadding="0" cellspacing="0" width="100%">
	            		<tbody>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Subject" for="subject_m" />
	            			<apex:inputText id="subject_m" value="{!Task.Subject}" style="width:70%;vertical-align:top;" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Related To" for="rel_to_m" />
	            			<apex:inputField id="rel_to_m" value="{!Task.WhatId}" styleClass="matterField" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Name" for="rel_name_m" />
	            			<apex:inputField id="rel_name_m" value="{!Task.WhoId}" styleClass="contactField" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Assigned To" for="assig_to_m" />
	            			<apex:inputField id="assig_to_m" value="{!Task.OwnerId}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Start Date" for="fld_st_m" />
	            			<apex:inputField id="fld_st_m" value="{!Task.advpm__Start_Date__c}" required="false" style="width:80px;" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Due Date" for="fld_due_m" />
	            			<apex:inputField id="fld_due_m" value="{!Task.ActivityDate}" required="false" style="width:80px;" onchange="doChangeDueDateValue('{!$Component.theForm.fld_due_m}','{!$Component.theForm.reminder_dt_m}');" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Status" for="fld_status_m" />
	            			<apex:inputField id="fld_status_m" value="{!Task.Status}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Type" for="fld_type_m" />
	            			<apex:inputField id="fld_type_m" value="{!Task.Type}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Priority" for="priority_m" />
	            			<apex:inputField id="priority_m" value="{!Task.Priority}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Log Time" for="log_time_m" />
	            			<apex:inputField id="log_time_m" value="{!Task.advpm__Log_Time__c}" required="false" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Time (In Hours)" for="time_hours_m" />
	            			<apex:inputField id="time_hours_m" value="{!Task.advpm__Time_In_Hours__c}" required="false" style="width:80px;" /></td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Reminder" for="reminder_set_m" />
	            				<apex:inputCheckbox id="reminder_set_m" value="{!Task.IsReminderSet}" title="Set reminder on/off" style="margin-top: -6px;" onclick="toggleEventReminderOptions('{!$Component.theForm.reminder_set_m}','{!$Component.theForm.reminder_dt_m}','{!$Component.theForm.reminder_dt_time_m}');" />
	            				<span class="dateInput dateOnlyInput remDate">
									<apex:inputField id="reminder_dt_m" value="{!remDate.ActivityDate}" style="width:80px;" />
									<apex:selectList id="reminder_dt_time_m" value="{!remTime}" title="Reminder Time" multiselect="false" size="1" style="display:inline;width:100px;margin-left:5px;">
		            					<apex:selectOptions value="{!ReminderTimeList}" />
									</apex:selectList>
								</span>
	            			</td>
	            		</tr>
	            		<tr>
	            			<td class="labelCol vfLabelColTextWrap"><apex:outputLabel value="Description" for="fld_descr_m" />
	            			<apex:inputField id="fld_descr_m" value="{!Task.Description}" style="width:70%;" required="false" /></td>
	            		</tr>
	            		<apex:repeat value="{!$ObjectType.Task.FieldSets.advpm__fieldSet_CardWall}" var="f">
	                        <apex:outputPanel layout="none" rendered="{!NOT(CONTAINS(f,'.'))}">
	                        <tr><td class="labelCol vfLabelColTextWrap"><label>{!f.label}</label><apex:inputField value="{!Task[f]}" required="{!f.Required}" rendered="{!f.Type != 'textarea' && NOT(CONTAINS(f,'.'))}" /><apex:inputField value="{!Task[f]}" required="{!f.Required}" rendered="{!f.Type == 'textarea' && NOT(CONTAINS(f,'.'))}" style="width:70%;height:60px;" /> /></td></tr>
	                        </apex:outputPanel>
	                    </apex:repeat>
		            	</tbody>
	            	</table>
	            </div>
	        </div>
        </apex:outputPanel>
    </apex:form>
    <apex:outputPanel id="otherContent">
    <chatter:feedWithFollowers entityId="{!Task.Id}" rendered="{!JSINHTMLENCODE($CurrentPage.parameters.saveSuccess) != '1'}"></chatter:feedWithFollowers><!--  rendered="{!!EditMode}" -->
	    <div class="modal hide fade" id="modal-error-list" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-header text-error">
	    		<h3 id="myModalLabel">Error</h3>
	  		</div>
	  		<div class="modal-body">
				<apex:dataList value="{!errMsgs}" var="er" type="circle" styleClass="text-error">
					<apex:outputPanel layout="inline"><strong>{!er.errHeading}</strong>&nbsp;{!er.errMessage}</apex:outputPanel>
				</apex:dataList>
	  		</div>
	  		<div class="modal-footer">
	    		<a href="#" onclick="$j('#modal-error-list').addClass('hide').removeClass('in');return false;" data-dismiss="modal" aria-hidden="true" class="btn-adv btn-adv-danger">Ok</a>
	  		</div>
		</div>
	</apex:outputPanel>
</body>
</html>
</apex:page>