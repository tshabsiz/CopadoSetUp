/**
* @author Deloitte
* @date 2015
*
* @group Unit Tests
*
* @description Unit Tests - Webservice fo SDS Integration
*/
@isTest
private class ZZTEST_WS_SDS {

	@isTest 
	static void testProperSDSXML_Update1Client() {              
       	ZZTEST_DataContainer dataContainer = new ZZTEST_DataContainer();
		ZZTEST_F_Account accountFactory = ZZTEST_DataFactoryFacade.account;  
		
		Account testSdsAcc = accountFactory.getInsertedProduct(ZZTEST_F_Account.AccountRecordType.SDS_ACCOUNT, dataContainer);
        testSdsAcc.SDS__c = '10000650';
        update testSdsAcc;
        
        // Check initial fields of account (before update)
        System.assertEquals(testSdsAcc.SDS__c,'10000650');
        System.assertEquals(testSdsAcc.Name,'Big SDS Corp');
        System.assertEquals(testSdsAcc.Country_of_Operation__c,'PL');
        System.assertEquals(testSdsAcc.Country_of_Incorporation__c,'PL');
        System.assertEquals(testSdsAcc.Credit_Group__c,'1337');

        // Call the method that invokes a callout
        String output = WS_SDS.parseSDSinterim(ZZTEST_WS_SDS.getSingleItem_ZA_SDSXML());

        // Verify if changes were implemented
        Account updatedSdsAcc = [SELECT Id, Name, SDS__c, Country_of_Operation__c, Country_of_Incorporation__c, Credit_Group__c FROM Account WHERE SDS__c =: testSdsAcc.SDS__c];
        System.assertNotEquals(updatedSdsAcc,null);
        System.assertEquals(updatedSdsAcc.SDS__c,'10000650');
        System.assertEquals(updatedSdsAcc.Name,'Total SA');
        System.assertEquals(updatedSdsAcc.Country_of_Operation__c,'ZA');
        System.assertEquals(updatedSdsAcc.Country_of_Incorporation__c,'ZA');
        System.assertEquals(updatedSdsAcc.Credit_Group__c,'10199');

        // Verify output message; remember it's just a part of the whole content
        String expectedOutputContent = 'Operation completed successfuly';
        System.debug('XXXXX output content: ' + output);
        System.assertEquals(true, output.contains(expectedOutputContent)); 
    }

    @isTest 
	static void testCorrupted_SDSXML() {              
        // Call the method that invokes a callout
        setUpCustomSettings(); // required for the email address accessibility in case of error within webservice
        String output = WS_SDS.parseSDSinterim(ZZTEST_WS_SDS.getCorruptedFormat_SDSXML());

        // Verify output message; remember it's just a part of the whole content
        String expectedOutputContent = 'Provided XML is impossible to parse. Please check your email';
        System.debug('XXXXX output content: ' + output);
        System.assertEquals(true, output.contains(expectedOutputContent)); 
    }

    @isTest 
	static void testMissingCriticalContent_SDSXML() {              
        // Call the method that invokes a callout
        setUpCustomSettings(); // required for the email address accessibility in case of error within webservice
        String output = WS_SDS.parseSDSinterim(ZZTEST_WS_SDS.getMissingCriticalContent_SDSXML());

        // Verify output message; remember it's just a part of the whole content
        String expectedOutputContent = 'There was an unexpected exception during parsing of XML'; 
        System.debug('XXXXX output content: ' + output);
        System.assertEquals(true, output.contains(expectedOutputContent)); 
    }

    @isTest 
	static void testUnexpectedContentType_SDSXML() {     
	    ZZTEST_DataContainer dataContainer = new ZZTEST_DataContainer();
		ZZTEST_F_Account accountFactory = ZZTEST_DataFactoryFacade.account;  
		
		Account testSdsAcc = accountFactory.getInsertedProduct(ZZTEST_F_Account.AccountRecordType.SDS_ACCOUNT, dataContainer);
        testSdsAcc.SDS__c = '10000650';
        update testSdsAcc;
        
        // Check initial fields of account (before update)
        System.assertEquals(testSdsAcc.SDS__c,'10000650');
        System.assertEquals(testSdsAcc.Name,'Big SDS Corp');
        System.assertEquals(testSdsAcc.Country_of_Operation__c,'PL');
        System.assertEquals(testSdsAcc.Country_of_Incorporation__c,'PL');
        System.assertEquals(testSdsAcc.Credit_Group__c,'1337');         
        // Call the method that invokes a callout
        setUpCustomSettings(); // required for the email address accessibility in case of error within webservice
        String output = WS_SDS.parseSDSinterim(ZZTEST_WS_SDS.getUnexpectedTypeOfData_SDSXML());

        // Verify output message; remember it's just a part of the whole content
        String expectedOutputContent = 'Failure to update accounts.';
        System.debug('XXXXX output content: ' + output);
        System.assertEquals(true, output.contains(expectedOutputContent)); 
    }

    @isTest 
	static void testUnmatchableContent_SDSXML() {          
        // Call the method that invokes a callout
        setUpCustomSettings(); // required for the email address accessibility in case of error within webservice
        String output = WS_SDS.parseSDSinterim(ZZTEST_WS_SDS.getUnmatchableContent_SDSXML());

        // Verify output message; remember it's just a part of the whole content
        String expectedOutputContent = 'Total number of unmatchable items';
        System.debug('XXXXX output content: ' + output);
        System.assertEquals(true, output.contains(expectedOutputContent)); 
    }

    public static String getUnmatchableContent_SDSXML()
    {
    	String sdsXML = '<?xml version="1.0" encoding="utf-8"?>';
		sdsXML += '\n<Pegasus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:request="http://abcap.com/abcapML/Pegasus/Request" xmlns:response="http://abcap.com/abcapML/Pegasus/Response" xsi:schemaLocation="http://abcap.com/AbCapML/Client/Response AbcapMLResponseClient.xsd" xmlns="http://abcap.com/AbCapML/Client/Response">';					
		sdsXml += '\n<Request xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Request">';
		sdsXML += '\n<Id>d730edda-9d09-4209-afdc-612fd48d78d9</Id>';
		sdsXML += '\n<Requestor>';
		sdsXML += '\n<Key Value="INTRANETbuthesib" Name="Requestor" />';
		sdsXML += '\n</Requestor>';
		sdsXML += '\n<ReportDate>2015-03-17</ReportDate>';
		sdsXML += '\n<Entity>';
		sdsXML += '\n<Type>Client</Type>';
		sdsXML += '\n</Entity>';
		sdsXML += '\n<SubmittedDate>2015-03-17T16:15:05.2344247+02:00</SubmittedDate>';
		sdsXML += '\n</Request>';
		sdsXML += '\n<Data>';
		sdsXML += '\n<Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>10000650</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>10199</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n<Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id></id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>12345</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n<Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>10000650</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="FR">FR</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="FR">FR</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>12345</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n</Data>';
		sdsXML += '\n<Response xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Response">';
		sdsXML += '\n<IsOfficialEOD>false</IsOfficialEOD>';
		sdsXML += '\n<RecordCounts>';
		sdsXML += '\n<RecordCount>';
		sdsXML += '\n<typeOfData>Client</typeOfData>';
		sdsXML += '\n<recordsWritten>1856</recordsWritten>';
		sdsXML += '\n</RecordCount>';
		sdsXML += '\n</RecordCounts>';
		sdsXML += '\n<ChecksumCalculationInfo>';
		sdsXML += '\n<Algorithm>SHA512</Algorithm>';
		sdsXML += '\n</ChecksumCalculationInfo>';
		sdsXML += '\n<ProcessingInformation>';
		sdsXML += '\n<RequestReceivedTime>2015-03-17T16:15:04.9123925+02:00</RequestReceivedTime>';
		sdsXML += '\n<RequestCompletedTime>2015-03-17T16:15:10.1509163+02:00</RequestCompletedTime>';
		sdsXML += '\n<RequestElapsedTime>PT0H0M4.916S</RequestElapsedTime>';
		sdsXML += '\n<StatusInformation>';
		sdsXML += '\n<Status>Successful</Status>';
		sdsXML += '\n<Message>Successful</Message>';
		sdsXML += '\n</StatusInformation>';
		sdsXML += '\n</ProcessingInformation>';
		sdsXML += '\n</Response>';
		sdsXML += '\n</Pegasus>';

		return sdsXML;
    }

    public static String getUnexpectedTypeOfData_SDSXML()
    {
    	String sdsXML = '<?xml version="1.0" encoding="utf-8"?>';
		sdsXML += '\n<Pegasus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:request="http://abcap.com/abcapML/Pegasus/Request" xmlns:response="http://abcap.com/abcapML/Pegasus/Response" xsi:schemaLocation="http://abcap.com/AbCapML/Client/Response AbcapMLResponseClient.xsd" xmlns="http://abcap.com/AbCapML/Client/Response">';					
		sdsXml += '\n<Request xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Request">';
		sdsXML += '\n<Id>d730edda-9d09-4209-afdc-612fd48d78d9</Id>';
		sdsXML += '\n<Requestor>';
		sdsXML += '\n<Key Value="INTRANETbuthesib" Name="Requestor" />';
		sdsXML += '\n</Requestor>';
		sdsXML += '\n<ReportDate>2015-03-17</ReportDate>';
		sdsXML += '\n<Entity>';
		sdsXML += '\n<Type>Client</Type>';
		sdsXML += '\n</Entity>';
		sdsXML += '\n<SubmittedDate>2015-03-17T16:15:05.2344247+02:00</SubmittedDate>';
		sdsXML += '\n</Request>';
		sdsXML += '\n<Data><Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>10000650</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7DF92A18F38FD4484BB75A4C126A431AAD41F08B7</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n</Data>';
		sdsXML += '\n<Response xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Response">';
		sdsXML += '\n<IsOfficialEOD>false</IsOfficialEOD>';
		sdsXML += '\n<RecordCounts>';
		sdsXML += '\n<RecordCount>';
		sdsXML += '\n<typeOfData>Client</typeOfData>';
		sdsXML += '\n<recordsWritten>1856</recordsWritten>';
		sdsXML += '\n</RecordCount>';
		sdsXML += '\n</RecordCounts>';
		sdsXML += '\n<ChecksumCalculationInfo>';
		sdsXML += '\n<Algorithm>SHA512</Algorithm>';
		sdsXML += '\n</ChecksumCalculationInfo>';
		sdsXML += '\n<ProcessingInformation>';
		sdsXML += '\n<RequestReceivedTime>2015-03-17T16:15:04.9123925+02:00</RequestReceivedTime>';
		sdsXML += '\n<RequestCompletedTime>2015-03-17T16:15:10.1509163+02:00</RequestCompletedTime>';
		sdsXML += '\n<RequestElapsedTime>PT0H0M4.916S</RequestElapsedTime>';
		sdsXML += '\n<StatusInformation>';
		sdsXML += '\n<Status>Successful</Status>';
		sdsXML += '\n<Message>Successful</Message>';
		sdsXML += '\n</StatusInformation>';
		sdsXML += '\n</ProcessingInformation>';
		sdsXML += '\n</Response>';
		sdsXML += '\n</Pegasus>';

		return sdsXML;
    }

    public static String getMissingCriticalContent_SDSXML()
    {
    	// 1st item SDS ID: 10000650, groupId: 10199s
    	String sdsXML = '<?xml version="1.0" encoding="utf-8"?>';
		sdsXML += '\n<Pegasus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:request="http://abcap.com/abcapML/Pegasus/Request" xmlns:response="http://abcap.com/abcapML/Pegasus/Response" xsi:schemaLocation="http://abcap.com/AbCapML/Client/Response AbcapMLResponseClient.xsd" xmlns="http://abcap.com/AbCapML/Client/Response">';					
		sdsXml += '\n<Request xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Request">';
		sdsXML += '\n<Id>d730edda-9d09-4209-afdc-612fd48d78d9</Id>';
		sdsXML += '\n<Requestor>';
		sdsXML += '\n<Key Value="INTRANETbuthesib" Name="Requestor" />';
		sdsXML += '\n</Requestor>';
		sdsXML += '\n<ReportDate>2015-03-17</ReportDate>';
		sdsXML += '\n<Entity>';
		sdsXML += '\n<Type>Client</Type>';
		sdsXML += '\n</Entity>';
		sdsXML += '\n<SubmittedDate>2015-03-17T16:15:05.2344247+02:00</SubmittedDate>';
		sdsXML += '\n</Request>';
		sdsXML += '\n<Response xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Response">';
		sdsXML += '\n<IsOfficialEOD>false</IsOfficialEOD>';
		sdsXML += '\n<RecordCounts>';
		sdsXML += '\n<RecordCount>';
		sdsXML += '\n<typeOfData>Client</typeOfData>';
		sdsXML += '\n<recordsWritten>1856</recordsWritten>';
		sdsXML += '\n</RecordCount>';
		sdsXML += '\n</RecordCounts>';
		sdsXML += '\n<ChecksumCalculationInfo>';
		sdsXML += '\n<Algorithm>SHA512</Algorithm>';
		sdsXML += '\n</ChecksumCalculationInfo>';
		sdsXML += '\n<ProcessingInformation>';
		sdsXML += '\n<RequestReceivedTime>2015-03-17T16:15:04.9123925+02:00</RequestReceivedTime>';
		sdsXML += '\n<RequestCompletedTime>2015-03-17T16:15:10.1509163+02:00</RequestCompletedTime>';
		sdsXML += '\n<RequestElapsedTime>PT0H0M4.916S</RequestElapsedTime>';
		sdsXML += '\n<StatusInformation>';
		sdsXML += '\n<Status>Successful</Status>';
		sdsXML += '\n<Message>Successful</Message>';
		sdsXML += '\n</StatusInformation>';
		sdsXML += '\n</ProcessingInformation>';
		sdsXML += '\n</Response>';
		sdsXML += '\n</Pegasus>';

		return sdsXML;
    }
    	
    public static String getCorruptedFormat_SDSXML()
    {
    	// 1st item SDS ID: 10000650, groupId: 10199s
    	String sdsXML = '<?xml version="1.0" encoding="utf-8"?>';
		sdsXML += '\n<Pegasus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:request="http://abcap.com/abcapML/Pegasus/Request" xmlns:response="http://abcap.com/abcapML/Pegasus/Response" xsi:schemaLocation="http://abcap.com/AbCapML/Client/Response AbcapMLResponseClient.xsd" xmlns="http://abcap.com/AbCapML/Client/Response">';					
		sdsXml += '\n<Request xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Request">';
		sdsXML += '\n<Id>d730edda-9d09-4209-afdc-612fd48d78d9</Id>';
		sdsXML += '\n<Requestor>';
		sdsXML += '\n<Key Value="INTRANETbuthesib" Name="Requestor" />';
		sdsXML += '\n</Requestor>';
		sdsXML += '\n<ReportDate>2015-03-17</ReportDate>';
		sdsXML += '\n<Entity>';
		sdsXML += '\n<Type>Client</Type>';
		sdsXML += '\n</Entity>';
		sdsXML += '\n<SubmittedDate>2015-03-17T16:15:05.2344247+02:00</SubmittedDate>';
		sdsXML += '\n</Request>';
		sdsXML += '\n<Data><Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>10000650</id>';
		// sdsXML += '\n</enterpriseId>'; <-- Cause corruption by omitting one tag
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>10199</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n</Data>';
		sdsXML += '\n<Response xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Response">';
		sdsXML += '\n<IsOfficialEOD>false</IsOfficialEOD>';
		sdsXML += '\n<RecordCounts>';
		sdsXML += '\n<RecordCount>';
		sdsXML += '\n<typeOfData>Client</typeOfData>';
		sdsXML += '\n<recordsWritten>1856</recordsWritten>';
		sdsXML += '\n</RecordCount>';
		sdsXML += '\n</RecordCounts>';
		sdsXML += '\n<ChecksumCalculationInfo>';
		sdsXML += '\n<Algorithm>SHA512</Algorithm>';
		sdsXML += '\n</ChecksumCalculationInfo>';
		sdsXML += '\n<ProcessingInformation>';
		sdsXML += '\n<RequestReceivedTime>2015-03-17T16:15:04.9123925+02:00</RequestReceivedTime>';
		sdsXML += '\n<RequestCompletedTime>2015-03-17T16:15:10.1509163+02:00</RequestCompletedTime>';
		sdsXML += '\n<RequestElapsedTime>PT0H0M4.916S</RequestElapsedTime>';
		sdsXML += '\n<StatusInformation>';
		sdsXML += '\n<Status>Successful</Status>';
		sdsXML += '\n<Message>Successful</Message>';
		sdsXML += '\n</StatusInformation>';
		sdsXML += '\n</ProcessingInformation>';
		sdsXML += '\n</Response>';
		sdsXML += '\n</Pegasus>';

		return sdsXML;
    }

    public static String getSingleItem_ZA_SDSXML()
    {
    	// 1st item SDS ID: 10000650, groupId: 10199
    	String sdsXML = '<?xml version="1.0" encoding="utf-8"?>';
		sdsXML += '\n<Pegasus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:request="http://abcap.com/abcapML/Pegasus/Request" xmlns:response="http://abcap.com/abcapML/Pegasus/Response" xsi:schemaLocation="http://abcap.com/AbCapML/Client/Response AbcapMLResponseClient.xsd" xmlns="http://abcap.com/AbCapML/Client/Response">';					
		sdsXml += '\n<Request xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Request">';
		sdsXML += '\n<Id>d730edda-9d09-4209-afdc-612fd48d78d9</Id>';
		sdsXML += '\n<Requestor>';
		sdsXML += '\n<Key Value="INTRANETbuthesib" Name="Requestor" />';
		sdsXML += '\n</Requestor>';
		sdsXML += '\n<ReportDate>2015-03-17</ReportDate>';
		sdsXML += '\n<Entity>';
		sdsXML += '\n<Type>Client</Type>';
		sdsXML += '\n</Entity>';
		sdsXML += '\n<SubmittedDate>2015-03-17T16:15:05.2344247+02:00</SubmittedDate>';
		sdsXML += '\n</Request>';
		sdsXML += '\n<Data><Item rawCheckSum="DF92A18F38FD4484BB75A4C126A431AAD41F08B720C502340B9AA1E34C500659CC44F455DAD47838C38AC8569EEC7ACE3AEF29CC46BCF4B5CBBF66E643C79445" cleanCheckSum="502C9F686E8F217621EACEA41609CC6E5CAE77EE0711663541FF6175C0EDD543332DD36E64E41E44EB51A9EDF9BE537F0DD9EB01B501035BA30D5B9B84395299">';
		sdsXML += '\n<client xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Client">';
		sdsXML += '\n<type rawData="L">Legal Entity</type>';
		sdsXML += '\n<organizationalType rawData="Foreign Company">Non-Resident Entity</organizationalType>';
		sdsXML += '\n<counterpartyId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>10000650</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<aliases>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>IMEX</sourceSystem>';
		sdsXML += '\n<id>TSA531</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>MIDAS</sourceSystem>';
		sdsXML += '\n<id>194175</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</aliases>';
		sdsXML += '\n</counterpartyId>';
		sdsXML += '\n<legalName>Total SA</legalName>';
		sdsXML += '\n<classifications>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>BritishClassificationType</type>';
		sdsXML += '\n<value>1110</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>ISC</type>';
		sdsXML += '\n<value>7.2</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n<classification>';
		sdsXML += '\n<type>USA Standard Industry Classification</type>';
		sdsXML += '\n<value>1311</value>';
		sdsXML += '\n</classification>';
		sdsXML += '\n</classifications>';
		sdsXML += '\n<countries>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Incorporation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n<country>';
		sdsXML += '\n<type>Operation</type>';
		sdsXML += '\n<value rawData="ZA">ZA</value>';
		sdsXML += '\n</country>';
		sdsXML += '\n</countries>';
		sdsXML += '\n<addresses>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>Tour Coupole</line1>';
		sdsXML += '\n<line2>2 Place Jean MillierArche Nord-Coupole-Regnault</line2>';
		sdsXML += '\n<town>Paris la Defense</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92078</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="C">Unknown</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Courbevoie</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n<address>';
		sdsXML += '\n<type rawData="R">Registered</type>';
		sdsXML += '\n<line1>La Defense 6</line1>';
		sdsXML += '\n<line2>2 Place Jean Millier</line2>';
		sdsXML += '\n<town>Hauts de Seine</town>';
		sdsXML += '\n<province>Ile-de-France</province>';
		sdsXML += '\n<country>FR</country>';
		sdsXML += '\n<postalCode>92400</postalCode>';
		sdsXML += '\n</address>';
		sdsXML += '\n</addresses>';
		sdsXML += '\n<ultimateParent>';
		sdsXML += '\n<enterpriseId>';
		sdsXML += '\n<sourceSystem>SDS</sourceSystem>';
		sdsXML += '\n<id>40412242</id>';
		sdsXML += '\n</enterpriseId>';
		sdsXML += '\n</ultimateParent>';
		sdsXML += '\n<groupId>10199</groupId>';
		sdsXML += '\n<sbuId>';
		sdsXML += '\n<id rawData="16">A</id>';
		sdsXML += '\n</sbuId>';
		sdsXML += '\n<tactical>';
		sdsXML += '\n<exchangeControlRegulationApproved>False</exchangeControlRegulationApproved>';
		sdsXML += '\n<registrations>';
		sdsXML += '\n<registration>';
		sdsXML += '\n<type>Company</type>';
		sdsXML += '\n<value>5421051180</value>';
		sdsXML += '\n</registration>';
		sdsXML += '\n</registrations>';
		sdsXML += '\n<fica>';
		sdsXML += '\n<status>Compliant</status>';
		sdsXML += '\n<date xsi:nil="true" />';
		sdsXML += '\n<expiryDate>2015-08-08</expiryDate>';
		sdsXML += '\n</fica>';
		sdsXML += '\n</tactical>';
		sdsXML += '\n<iscSubType rawData="">54|Bank - NonGov</iscSubType>';
		sdsXML += '\n<intragroup>Unallocated</intragroup>';
		sdsXML += '\n<intragroupType rawData="">External|3</intragroupType>';
		sdsXML += '\n</client>';
		sdsXML += '\n</Item>';
		sdsXML += '\n</Data>';
		sdsXML += '\n<Response xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://abcap.com/abcapML/Pegasus/Response">';
		sdsXML += '\n<IsOfficialEOD>false</IsOfficialEOD>';
		sdsXML += '\n<RecordCounts>';
		sdsXML += '\n<RecordCount>';
		sdsXML += '\n<typeOfData>Client</typeOfData>';
		sdsXML += '\n<recordsWritten>1856</recordsWritten>';
		sdsXML += '\n</RecordCount>';
		sdsXML += '\n</RecordCounts>';
		sdsXML += '\n<ChecksumCalculationInfo>';
		sdsXML += '\n<Algorithm>SHA512</Algorithm>';
		sdsXML += '\n</ChecksumCalculationInfo>';
		sdsXML += '\n<ProcessingInformation>';
		sdsXML += '\n<RequestReceivedTime>2015-03-17T16:15:04.9123925+02:00</RequestReceivedTime>';
		sdsXML += '\n<RequestCompletedTime>2015-03-17T16:15:10.1509163+02:00</RequestCompletedTime>';
		sdsXML += '\n<RequestElapsedTime>PT0H0M4.916S</RequestElapsedTime>';
		sdsXML += '\n<StatusInformation>';
		sdsXML += '\n<Status>Successful</Status>';
		sdsXML += '\n<Message>Successful</Message>';
		sdsXML += '\n</StatusInformation>';
		sdsXML += '\n</ProcessingInformation>';
		sdsXML += '\n</Response>';
		sdsXML += '\n</Pegasus>';

		return sdsXML;
    }

    private static void setUpCustomSettings()
	{
		SDS_Integration_CS__c c = new SDS_Integration_CS__c();
		c.Name = 'SendErrorLogToAddress';
        c.SendErrorLogToAddress__c = 'jcicharski@deloittece.com';
        try {
			insert c;
		} catch(Exception e)
		{
			System.debug('XXXXXXXXXXXXXX custom settings insert for SDS_Integration_CS__c - SendErrorLogToAddress (email address) failed: ' + e.getMessage());
		} 
	}

}